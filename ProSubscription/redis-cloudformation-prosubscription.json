{
  "typeName": "Redis::CloudFormation::ProSubscription",
  "description": "CloudFormation template for Pro Subscription.",
  "tagging": {
    "taggable": false
  },
  "typeConfiguration": {
    "properties": {
        "RedisAccess": {
            "$ref": "#/definitions/RedisAccess"
        }
    },
    "additionalProperties": false,
    "required": [
        "RedisAccess"
    ]
},
"definitions": {
        "RedisAccess": {
            "description": "Properties needed to access Redis.",
            "type": "object",
            "properties": {
                "xapikey": {
                    "description": "x_api_key",
                    "type": "string"
                },
                "xapisecretkey": {
                    "description": "x_api_secret_key",
                    "type": "string"
                }
            },
            "additionalProperties": false
        }
    },
  "properties": {
    "SubscriptionID": {
      "type": "string",
      "description": "Subscription ID. Populated with value within the handlers.py.",
      "default": "Overwrite this value"
    },
    "BaseUrl": {
      "type": "string",
      "description": "[Required]. The Base URL where the API calls are sent."
    },
    "SubscriptionName": {
      "type": "string",
      "description": "[Optional]. Subscription name. Example: My new subscription"
    },
    "DryRun": {
      "type": "string",
      "description": "[Optional]. When 'false': Creates a deployment plan and deploys it (creating any resources required by the plan). When 'true': creates a read-only deployment plan without any resource creation. Example: false. Default: 'false'."
    },
    "DeploymentType": {
      "type": "string",
      "description": "[Optional]. Creates a single region subscription. Example: single-region"
    },
    "PaymentMethod": {
      "type": "string",
      "description": "[Optional]. Payment method for the requested subscription. If credit card is specified, the payment method Id must be defined. Default: 'credit-card'"
    },
    "PaymentMethodId": {
      "type": "string",
      "description": "[Optional]. A valid payment method that was pre-defined in the current account. This value is Optional if 'paymentMethod' is 'marketplace', but Required for all other account types."
    },
    "MemoryStorage": {
      "type": "string",
      "description": "[Optional]. Optional. Memory storage preference: either 'ram' or a combination of 'ram-and-flash'. Example: ram. Default: 'ram'"
    },
    "Provider": {
      "type": "string",
      "description": "[Optional]. Cloud provider. Example: AWS. Default: 'AWS'"
    },
    "CloudAccountId": {
      "type": "string",
      "description": "[Optional]. Cloud account identifier. Default: Redis internal cloud account (using Cloud Account Id = 1 implies using Redis internal cloud account). Note that a GCP subscription can be created only with Redis internal cloud account.Example: 1. Default: 1"
    },
    "Region": {
      "type": "string",
      "description": "[Required]. Deployment region as defined by cloud provider. Example: us-east-1"
    },
    "MultipleAvailabilityZones": {
      "type": "string",
      "description": "[Optional]. Support deployment on multiple availability zones within the selected region. Example: false. Default: 'false'"
    },
    "PreferredAvailabilityZones": {
      "type": "string",
      "description": "[Optional]. Availability zones deployment preferences (for the selected provider & region). If 'multipleAvailabilityZones' is set to 'true', you must specify three availability zones. In AWS Redis internal cloud account, set the zone IDs (for example: ['use-az2', 'use-az3', 'use-az5'])"
    },
    "DeploymentCIDR": {
      "type": "string",
      "description": "[Required]. Deployment CIDR mask. Example: 10.0.0.0/24. Default: If using Redis internal cloud account, 192.168.0.0/24"
    },
    "VpcId": {
     "type": "string",
     "description": "[Optional]. Either an existing VPC Id (already exists in the specific region) or create a new VPC (if no VPC is specified). VPC Identifier must be in a valid format (for example: 'vpc-0125be68a4625884ad') and existing within the hosting account"
    },
    "RedisVersion": {
      "type": "string",
      "description": "[Optional]. If specified, the redisVersion defines the Redis version of the databases in the subscription. If omitted, the Redis version will be the default (available in 'GET /subscriptions/redis-versions'). Example: 7.2. Default = 'default'"
    }
  },
  "handlers": {
    "create": {
        "permissions": []
    },
    "read": {
        "permissions": [
          "initech:DescribeReport"
        ]
    },
    "update": {
        "permissions": [
          "initech:UpdateReport"
        ]
    },
    "delete": {
        "permissions": []
    },
    "list": {
        "permissions": [
          "initech:ListReports"
        ]
    }
  },
  "additionalProperties": false,
  "required": [
    "Region"
  ],
  "createOnlyProperties": [
    "/properties/BaseUrl",
    "/properties/DryRun",
    "/properties/DeploymentType",
    "/properties/PaymentMethod",
    "/properties/PaymentMethodId",
    "/properties/MemoryStorage",
    "/properties/Provider",
    "/properties/CloudAccountId",
    "/properties/Region",
    "/properties/MultipleAvailabilityZones",
    "/properties/PreferredAvailabilityZones",
    "/properties/DeploymentCIDR",
    "/properties/VpcId",
    "/properties/RedisVersion"
  ],
  "readOnlyProperties": [
    "/properties/SubscriptionID"
  ],
  "primaryIdentifier": ["/properties/SubscriptionID"]
}
